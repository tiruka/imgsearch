{% extends "base.html" %}
{% block content %}
<h1 class="ui center aligned header" style="padding:1em"><span style="color:white"><em>Upload and Search Image!</em></span></h1>
<div class="ui center aligned container">
  <div class="ui divider"></div>
    <p><span style="color:white"><em>Backend: Keras</em></span></p>
    <p><span style="color:white"><em>API: Flask</em></span></p>
    <div class="ui centered cards" style="padding:20px">
    {% for name, img_url, recommends in rows %}
      <div class="ui card" onclick="cardClick('{{ name }}')">
        {% if img_url %}
          <div class="image"><img class="ui fluid image" src="{{ img_url }}" /></div>
        {% else %}
          <div>Sorry, Not Found</div>
        {% endif %}
      <div class="content">
        <div class="header">
          ItemName: {{ name }}
        </div>
      </div>
      </div>
      <div class="ui fullscreen modal" id='{{name}}'>
        <div class="header">Similar Items</div>
        <div class="image content">
          <img class="image">
          <div class="description">
            {% for recommend_img_url in recommends %}
              <p id='item-name'>{{ recommend_img_url }}</p>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <!-- {{ pagination.info }} -->
    {{ pagination.links }}
<script type="text/javascript">
  function cardClick(name){
    var modalId = '#' + name;
    console.log(modalId)
    $(`${modalId}`).modal('show');
  }
</script>
{% endblock %}
